apiVersion: network.azure.upbound.io/v1alpha1
kind: WatcherFlowLog
metadata:
  name: example
spec:
  forProvider:
    enabled: true
    name: example-log
    networkSecurityGroupId: ${azurerm_network_security_group.test.id}
    networkWatcherName: production-nwwatcher
    resourceGroupNameRef:
      name: example
    retentionPolicy:
    - days: 7
      enabled: true
    storageAccountId: ${azurerm_storage_account.test.id}
    trafficAnalytics:
    - enabled: true
      intervalInMinutes: 10
      workspaceId: ${azurerm_log_analytics_workspace.test.workspace_id}
      workspaceRegion: West Europe
      workspaceResourceId: ${azurerm_log_analytics_workspace.test.id}
  providerConfigRef:
    name: example
