apiVersion: apimanagement.azure.upbound.io/v1alpha1
kind: CustomDomain
metadata:
  name: example
spec:
  forProvider:
    apiManagementId: ${azurerm_api_management.example.id}
    developerPortal:
    - hostName: portal.example.com
      keyVaultId: ${azurerm_key_vault_certificate.test.secret_id}
    gateway:
    - hostName: api.example.com
      keyVaultId: ${azurerm_key_vault_certificate.test.secret_id}
  providerConfigRef:
    name: example
