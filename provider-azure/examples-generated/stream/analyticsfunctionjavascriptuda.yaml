apiVersion: stream.azure.upbound.io/v1beta1
kind: AnalyticsFunctionJavascriptUda
metadata:
  name: example
spec:
  forProvider:
    input:
    - type: bigint
    name: example-javascript-function
    output:
    - type: bigint
    script: |
      function main() {
          this.init = function () {
              this.state = 0;
          }

          this.accumulate = function (value, timestamp) {
              this.state += value;
          }

          this.computeResult = function () {
              return this.state;
          }
      }
    streamAnalyticsJobId: ${data.azurerm_stream_analytics_job.example.id}
  providerConfigRef:
    name: example
