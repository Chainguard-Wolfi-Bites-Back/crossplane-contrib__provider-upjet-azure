apiVersion: insights.azure.upbound.io/v1beta1
kind: MonitorDiagnosticSetting
metadata:
  name: example
spec:
  forProvider:
    log:
    - category: AuditEvent
      enabled: false
      retentionPolicy:
      - enabled: false
    metric:
    - category: AllMetrics
      retentionPolicy:
      - enabled: false
    name: example
    storageAccountId: ${data.azurerm_storage_account.example.id}
    targetResourceId: ${data.azurerm_key_vault.example.id}
  providerConfigRef:
    name: example
