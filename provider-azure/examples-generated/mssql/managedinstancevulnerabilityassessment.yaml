apiVersion: mssql.azure.upbound.io/v1alpha1
kind: ManagedInstanceVulnerabilityAssessment
metadata:
  name: example
spec:
  forProvider:
    managedInstanceId: ${azurerm_mssql_managed_instance.example.id}
    recurringScans:
    - emailSubscriptionAdmins: true
      emails:
      - email@example1.com
      - email@example2.com
      enabled: true
    storageAccountAccessKeySecretRef:
      key: attribute.primary_access_key
      name: example-storage-account
      namespace: crossplane-system
    storageContainerPath: ${azurerm_storage_account.example.primary_blob_endpoint}${azurerm_storage_container.example.name}/
  providerConfigRef:
    name: example
