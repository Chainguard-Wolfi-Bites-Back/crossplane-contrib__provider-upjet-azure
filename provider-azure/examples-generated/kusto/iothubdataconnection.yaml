apiVersion: kusto.azure.upbound.io/v1alpha1
kind: IOTHubDataConnection
metadata:
  name: example
spec:
  forProvider:
    clusterName: kustocluster
    consumerGroup: ${azurerm_iothub_consumer_group.example.name}
    dataFormat: JSON
    databaseName: my-kusto-database
    eventSystemProperties:
    - message-id
    - sequence-number
    - to
    iothubId: ${azurerm_iothub.example.id}
    location: West Europe
    mappingRuleName: my-table-mapping
    name: my-kusto-iothub-data-connection
    resourceGroupNameRef:
      name: example
    sharedAccessPolicyName: ${azurerm_iothub_shared_access_policy.example.name}
    tableName: my-table
  providerConfigRef:
    name: example
