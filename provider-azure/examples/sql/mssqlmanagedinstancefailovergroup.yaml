apiVersion: sql.azure.upbound.io/v1beta1
kind: MSSQLManagedInstanceFailoverGroup
metadata:
  name: example
spec:
  forProvider:
    location: West Europe
    managedInstanceIdRef:
      name: example-sql
    partnerManagedInstanceIdRef:
      name: example-sql-partner
    readWriteEndpointFailoverPolicy:
    - graceMinutes: 60
      mode: Automatic
---
apiVersion: sql.azure.upbound.io/v1beta1
kind: MSSQLManagedInstance
metadata:
  name: example-sql-partner
spec:
  forProvider:
    administratorLogin: mradministrator
    administratorLoginPasswordSecretRef:
      key: password
      name: example-secret
      namespace: upbound-system
    licenseType: BasePrice
    location: West Europe
    resourceGroupNameRef:
      name: example-sql-rg
    skuName: GP_Gen5
    storageSizeInGb: 32
    subnetIdRef:
      name: example-subnet
    vcores: 4
    identity:
      - type: SystemAssigned
